<div
  class="ticket-container"
  (click)="
    navigateToTrip({
      rideId: rideId,
      from: from.stationId,
      to: to.stationId,
    })
  "
  #ref
>
  <div class="ticket-header">
    <div class="departure">
      <div class="time">
        <mat-icon>schedule</mat-icon>
        <!--          <span *ngIf="route.schedule?.length && route.schedule[0].segments?.length">-->
        <!--            {{ route.schedule[0].segments[0].time[0] | date: 'shortTime' }}-->
        <!--          </span>-->
      </div>
      <div class="date">
        <!--          <span>{{ route.schedule[0].segments[0].time[0] | date: 'MMMM d' }}</span>-->
      </div>
      <div class="route">
        <span>{{ from.city }}</span>
      </div>
    </div>

    <div class="route-line">
      <svg height="10" width="100">
        <circle cx="5" cy="5" r="5" fill="none" stroke="black" stroke-width="2" />
        <line x1="5" y1="5" x2="95" y2="5" stroke="black" stroke-width="5,5" />
      </svg>
    </div>

    <!--      <div class="duration" *ngIf="route.schedule?.length && route.schedule[0].segments?.length">-->
    <!--        <span>{{ calculateDuration(route.schedule[0].segments[0].time[0], route.schedule[0].segments[0].time[1]) }}</span>-->
    <!--      </div>-->

    <div class="route-line">
      <svg height="10" width="100">
        <line x1="5" y1="5" x2="95" y2="5" stroke="black" stroke-dasharray="5,5" />
        <circle cx="95" cy="5" r="5" fill="black" stroke="black" stroke-width="2" />
      </svg>
    </div>

    <div class="arrival">
      <div class="time">
        <mat-icon>schedule</mat-icon>
        <!--          <span *ngIf="route.schedule?.length && route.schedule[0].segments?.length">-->
        <!--            {{ route.schedule[0].segments[0].time[1] | date: 'shortTime' }}-->
        <!--          </span>-->
      </div>
      <div class="date">
        <!--          <span>{{ route.schedule[0].segments[0].time[1] | date: 'MMMM d' }}</span>-->
      </div>
      <div class="route">
        <span>{{ to.city }}</span>
      </div>
    </div>
  </div>

  <div class="class-details">
    <div *ngFor="let classType of ['carriage1', 'carriage2', 'carriage3']" class="class-detail">
      <span>{{ classType === 'carriage1' ? '1st Class' : classType === 'carriage2' ? '2nd Class' : 'Women Only' }}</span>
      <!--        <span>Price per Seat: ${{ calculatePricePerSeat(route, classType) | number: '1.0-0' }}</span>-->
      <!--        <span>Seats Available: {{ countTotalSeatsByClass(route)[classType] }}</span>-->
    </div>
  </div>
  <button
    class="modal-button"
    mat-raised-button
    color="primary"
    (click)="
      openRouteDialog({
        event: $event,
        detailsId: rideId,
        from: from.stationId,
        to: to.stationId,
      })
    "
  >
    View Details
  </button>
</div>
